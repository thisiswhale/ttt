!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=5)}([function(e,r,t){"use strict";e.exports=class{constructor(e,r){this.name=e,this.marker=r}getData(){return{name:this.name,marker:this.marker}}isWinner(e,r){void 0===r&&(r=this.marker);const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let n=e.reduce((e,t,n)=>t===r?e.concat(n):e,[]),o=!1;for(let[e,s]of t.entries())if(s.every(e=>n.indexOf(e)>-1)){o={index:t[e],marker:r};break}return o}}},function(e,r,t){"use strict";e.exports=class{constructor(){this.grid=[...Array(9).keys()]}getBoard(){return this.grid}}},function(e,r,t){"use strict";const n=t(1);e.exports=class extends n{constructor(){super(),this.playerOneTurn=!0}isPlayerOneTurn(){return this.playerOneTurn}setPlayerTurn(){this.playerOneTurn=!this.playerOneTurn}hasTie(){return 0===this.grid.filter(e=>"number"==typeof e).length}isGameOver(e){return e||this.hasTie()}}},function(e,r,t){"use strict";const n=t(0);e.exports=class extends n{constructor(e,r){super(e,r)}emptySquares(e){return e.filter(e=>"x"!=e&&"o"!=e)}createMovesArr(e,r,t){let n=[];for(let o=0;o<r.length;o++){let s,i={};i.index=e[r[o]],e[r[o]]=t;const u="o"===t?"x":"o";s=this.minimax(e,u),i.score=s.score,e[r[o]]=i.index,n.push(i)}return n}bestIdFromMoves(e,r){let t,n;return"o"===r?(n=-1e5,e.forEach((r,o)=>{e[o].score>n&&(n=e[o].score,t=o)})):(n=1e5,e.forEach((r,o)=>{e[o].score<n&&(n=e[o].score,t=o)})),t}minimax(e,r){let t=this.emptySquares(e);if(this.isWinner(e,"x"))return{score:-10};if(this.isWinner(e,"o"))return{score:10};if(0===t.length)return{score:0};const n=this.createMovesArr(e,t,r);return n[this.bestIdFromMoves(n,r)]}setSquare(e){e[this.minimax(e,this.marker).index]=this.marker}}},function(e,r,t){"use strict";const n=t(0);e.exports=class extends n{constructor(e,r){super(e,r)}setSquare(e,r){e[r]=this.marker}}},function(e,r,t){"use strict";const n=t(4),o=t(3),s=t(2);let i=new s,u=new n("human","x");new o("name","o");u.setSquare(i.getBoard(),0),u.setSquare(i.getBoard(),1),u.setSquare(i.getBoard(),2),console.log(i.hasTie()),console.log(i.isGameOver(u.isWinner(i.getBoard())));document.addEventListener("DOMContentLoaded",function(e){let r,t=new s,o=t.getBoard(),i=new n("Human","x"),u=new n("Human","o");const c=document.querySelectorAll(".cell");document.querySelector("#control");document.querySelector("table").addEventListener("click",function(e){let n=e.target;n.className.includes("cell")&&"number"==typeof o[n.id]&&(t.isPlayerOneTurn()?r=i:t.isPlayerOneTurn()||"Human"!==u.name||(r=u),function(e,r){r.setSquare(o,e);let t=document.getElementById(e);t.innerText=r.marker,t.className+=" full"}(n.id,r),function(e){let r=t.isGameOver(e.isWinner(o));if(console.log(r,o),"object"==typeof r)return void r.index.forEach(e=>{c[e].className+=" win"});if("boolean"==typeof r&&!0===r)return void c.forEach(e=>{e.className+=" tie"});return!1}(r)||t.setPlayerTurn())})})}]);